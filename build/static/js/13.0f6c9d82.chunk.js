(this.webpackJsonptutorialcenteradmin=this.webpackJsonptutorialcenteradmin||[]).push([[13],{656:function(e,t,a){"use strict";var n=a(694),r=a(0),l=a.n(r);t.a=function(e){return l.a.createElement("div",{className:"my-progress-container"},l.a.createElement(n.a,null))}},659:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),l=a(727),c=a(650),o=a(703),i=a(704),u=Object(l.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",top:"-10% !important"},paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(4),outline:"none"}}}));function s(e){var t=e.open,a=e.handleClose,n=e.children,l=u();return r.a.createElement("div",null,r.a.createElement(c.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:l.modal,open:t,onClose:a,closeAfterTransition:!0,BackdropComponent:o.a,BackdropProps:{timeout:500}},r.a.createElement(i.a,{in:t},r.a.createElement("div",{className:l.paper},n))))}},660:function(e,t,a){"use strict";var n=a(228),r=a(0),l=a.n(r),c=a(70),o=a(105),i=a(645),u=a(729),s=a(730),d=a(725),m=a(726),f=a(735),b=a(731),p=a(732),g=a(727),h=a(656),E=a(724),v=a(742);function y(e){var t=e.headRows,a=e.order,n=e.orderBy,r=e.onRequestSort;return l.a.createElement(E.a,null,l.a.createElement(d.a,null,t.map((function(e){return l.a.createElement(m.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},e.sortable?l.a.createElement(v.a,{active:n===e.id,direction:a,onClick:(t=e.id,function(e){r(e,t)})},e.label):e.label);var t}))))}var k=a(116),C=a(646),j=a(81),w=a(728),O=a(723),S=a(601),P=a(671),x=a.n(P),I=a(672),R=a.n(I),_=a(10),N=a(348),D=a(669),B=a.n(D),M=Object(g.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:250},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}});function T(e){var t=e.placeholder,a=e.onChange,n=M(),r=l.a.useState(""),c=Object(o.a)(r,2),u=c[0],s=c[1],d=l.a.useRef(null);return l.a.createElement(i.a,{className:n.root},l.a.createElement(N.a,{className:n.input,placeholder:t,value:u,onChange:function(e){var t=e.target.value;s(t),d.current&&clearTimeout(d.current),d.current=setTimeout((function(){a(t)}),300)},inputProps:{"aria-label":t}}),l.a.createElement(B.a,null))}var F=Object(g.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(j.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),L=function(e){var t=F(),a=e.numSelected;return l.a.createElement(w.a,{className:Object(_.a)(t.root,Object(k.a)({},t.highlight,a>0))},l.a.createElement("div",{className:t.title},a>0?l.a.createElement(S.a,{color:"inherit",variant:"subtitle1"},a," selected"):l.a.createElement(T,{onChange:e.onChangeSearch,value:e.searchText,placeholder:"Search name"})),l.a.createElement("div",{className:t.spacer}),l.a.createElement("div",{className:t.actions},a>0?l.a.createElement(O.a,{title:"Delete"},l.a.createElement(C.a,{"aria-label":"Delete",onClick:function(){e.handleDelete()}},l.a.createElement(x.a,null))):l.a.createElement(O.a,{title:"Filter list"},l.a.createElement(C.a,{"aria-label":"Filter list"},l.a.createElement(R.a,null)))))};function A(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Y=Object(g.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"}}}));function z(e){var t=e.headRows,a=e.rows,n=e.isFetching;console.log("Props",e);var r=Y(),g=l.a.useState([]),E=Object(o.a)(g,2),v=E[0],k=E[1],C=l.a.useState([]),j=Object(o.a)(C,2),w=j[0],O=j[1],S=l.a.useState("asc"),P=Object(o.a)(S,2),x=P[0],I=P[1],R=l.a.useState("calories"),_=Object(o.a)(R,2),N=_[0],D=_[1],B=l.a.useState([]),M=Object(o.a)(B,2),T=M[0],F=M[1],z=l.a.useState(0),q=Object(o.a)(z,2),W=q[0],J=q[1],U=l.a.useState(!1),X=Object(o.a)(U,2),$=X[0],G=X[1],H=l.a.useState(5),K=Object(o.a)(H,2),Q=K[0],V=K[1],Z=l.a.useState(""),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1];l.a.useEffect((function(){O(a),k(t)}),[a,t]);var ne=Q-Math.min(Q,w.length-W*Q);return l.a.createElement("div",{className:r.root},l.a.createElement(i.a,{className:r.paper},l.a.createElement(L,{numSelected:T.length,onChangeSearch:function(e){var t=e.toLowerCase();ae(t),J(0);var n=a.filter((function(e){return Object.keys(e).some((function(a){return String(e[a]).toLowerCase().includes(t)}))}));return O(n)},searchText:te,handleDelete:function(){T.length&&T.forEach((function(e){return function(e){var t=w.findIndex((function(t){return t.id===e})),a=w;a.splice(t,1),O(Object(c.a)(a)),F([])}(e)}))}}),l.a.createElement("div",{className:r.tableWrapper},n?l.a.createElement(h.a,null):l.a.createElement(u.a,{className:r.table,"aria-labelledby":"tableTitle",size:$?"small":"medium"},l.a.createElement(y,{headRows:v,order:x,orderBy:N,onRequestSort:function(e,t){I(N===t&&"desc"===x?"asc":"desc"),D(t)},rowCount:w.length,nonMultiSelect:e.nonMultiSelect}),l.a.createElement(s.a,null,l.a.createElement(l.a.Fragment,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(w,function(e,t){return"desc"===e?function(e,a){return A(e,a,t)}:function(e,a){return-A(e,a,t)}}(x,N)).slice(W*Q,W*Q+Q).map((function(t,a){var n,r="enhanced-table-checkbox-".concat(a);return l.a.createElement(d.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t.id,onClick:(n=t,function(){e.onClickRow&&e.onClickRow(n)}),style:{cursor:e.onClickRow?"pointer":"default"}},Object.keys(t).map((function(e,a){return"id"!==e?1===a?l.a.createElement(m.a,{key:"".concat(e,"-").concat(a),component:"th",id:r,scope:"row"},t[e]):l.a.createElement(m.a,{key:"".concat(e,"-").concat(a),align:"string"===typeof t[e]||"object"===typeof t[e]?"left":"right"},t[e]):null})))})),ne>0&&l.a.createElement(d.a,{style:{height:49*ne}},l.a.createElement(m.a,{colSpan:6})))))),l.a.createElement(f.a,{rowsPerPageOptions:[5,10,25],component:"div",count:w.length,rowsPerPage:Q,page:W,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,t){console.log("newPage",t),J(t)},onChangeRowsPerPage:function(e){console.log("RowsPerPage",e.target.value);var t=e.target.value;V(t)}})),l.a.createElement(b.a,{control:l.a.createElement(p.a,{checked:$,onChange:function(e){G(e.target.checked)}}),label:"Dense padding"}))}t.a=function(e){var t=e.headRows,a=e.rows,r=void 0===a?[]:a,c=e.isFetching,o=Object(n.a)(e,["headRows","rows","isFetching"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(z,Object.assign({headRows:t,rows:r,isFetching:c},o)))}},664:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(723),c=a(686),o=a(646);t.a=function(e){var t=e.Icon,a=e.title,n=e.onClick,i=e.style;return r.a.createElement(l.a,{TransitionComponent:c.a,title:a},r.a.createElement(o.a,{onClick:n,style:i},t))}},674:function(e,t,a){"use strict";var n=a(70),r=a(0),l=a.n(r),c=a(689);t.a=function(e){var t=e.number,a=e.fontSize,r=void 0===a?"large":a;return l.a.createElement("div",{className:"my-rating--container"},Object(n.a)(Array(5)).map((function(e,a){return l.a.createElement("span",{key:"".concat(a,"-rate")},l.a.createElement(c.a,{fontSize:r,style:{color:a<=Math.floor(Number.parseInt(t))-1?"yellow":"black"}}))})))}},683:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a(70);function r(e,t,a,n,r,l,c,o,i){return{id:e,post_id:t,author_name:a,title:n,is_active:r,rates:l,last_modified:c,last_created:o,actions:i}}var l=[{id:"id",numeric:!1,disablePadding:!1,sortable:!0,label:"Id"},{id:"author_name",numeric:!1,sortable:!0,disablePadding:!1,label:"Author"},{id:"title",numeric:!1,sortable:!0,disablePadding:!1,label:"Title"},{id:"is_active",numeric:!1,sortable:!0,disablePadding:!1,label:"Active"},{id:"rates",numeric:!1,sortable:!1,disablePadding:!1,label:"Rates"},{id:"last_modified",numeric:!1,sortable:!0,disablePadding:!1,label:"Last modified"},{id:"last_created",numeric:!1,sortable:!1,disablePadding:!1,label:"Last Created"},{id:"actions",numeric:!1,sortable:!1,disablePadding:!1,label:"Actions"}];Object(n.a)(Array(13).keys()).map((function(e,t){var a=Math.floor(6*Math.random()),n=function(){for(var e,t="qwertyuiopasdfghjklzxcvbnm0123456789!@#$%^&*()_+[]/;,.",a="",n=0;n<20;n++)a+=t.charAt((e=t.length,Math.floor(Math.random()*Math.floor(e))));return a}();return r(n,n,"author".concat(e),"Covid-China",a,"2020-03-2".concat(t%10),"2020-03-20",null)}))},738:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(105),l=a(653),c=a(690),o=a(707),i=a(705),u=a(706),s=a(688),d=a(657),m=a.n(d),f=a(0),b=a.n(f),p=a(23),g=a(41),h=a(683),E=a(664),v=a(674),y=a(660),k=a(232),C=a(601),j=a(728),w=a(682),O=a(659),S=function(e){var t=e.open,a=e.handleClose,n=e.selected,r=Object(p.d)(),l=n.id,c=n.is_active,o=b.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("set active submit",l,c),r(k.a.setActiveTutorialById({id:l,is_active:c})),a()}},b.a.createElement(C.a,{align:"center",variant:"h6",gutterBottom:!0},"Do you want to ".concat(c?"block":"unblock"," this tutorial?")),b.a.createElement(j.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"}},b.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary"},"Submit"),b.a.createElement(w.a,{variant:"contained",color:"default",onClick:a,style:{marginLeft:"16px"}},"Cancel")));return b.a.createElement(O.a,{open:t,handleClose:a,children:o})},P=function(e){var t=e.open,a=e.handleClose,n=e.selected,r=Object(p.d)(),l=n.id,c=b.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("delete tutorial submit",l),r(k.a.deleteTutorialById(l)),a()}},b.a.createElement(C.a,{align:"center",variant:"h6",gutterBottom:!0},"Do you want to delete this tutorial?"),b.a.createElement(j.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"}},b.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary"},"Submit"),b.a.createElement(w.a,{variant:"contained",color:"default",onClick:a,style:{marginLeft:"16px"}},"Cancel")));return b.a.createElement(O.a,{open:t,handleClose:a,children:c})};t.default=function(){var e=Object(p.d)(),t=b.a.useState({type:"",selected:{}}),a=Object(r.a)(t,2),d=a[0],f=a[1],C=Object(p.e)((function(e){return e.tutorialList})),j=C.tutorials,w=C.count,O=C.isFetching,x=d.type,I=d.selected;b.a.useEffect((function(){e(k.a.getTutorials())}),[e]);var R=b.a.useMemo((function(){return j?j.map((function(e,t){return Object(h.a)(e.id,e.id,b.a.createElement("div",{style:{display:"flex",alignItems:"center"}},b.a.createElement("span",{style:{marginRight:"8px"}},b.a.createElement(l.a,{src:e.author.avatar_url})),b.a.createElement("span",null,e.author.name," ")),e.title,b.a.createElement(c.a,{checked:Boolean(e.is_active)}),b.a.createElement(v.a,{number:e.average_rate,fontSize:"small"}),m()(e.updated_at).format("DD/MM/YYYY"),m()(e.created_at).format("DD/MM/YYYY"),b.a.createElement(b.a.Fragment,null,b.a.createElement(E.a,{onClick:function(){return _("delete",e)},Icon:b.a.createElement(o.a,null),title:"Delete"}),e.is_active?b.a.createElement(E.a,{onClick:function(){return _("block",e)},Icon:b.a.createElement(i.a,null),title:"Block"}):b.a.createElement(E.a,{onClick:function(){return _("block",e)},Icon:b.a.createElement(u.a,null),title:"Unblock"}),b.a.createElement(g.Link,{to:"/tutorials/".concat(e.id)},b.a.createElement(E.a,{Icon:b.a.createElement(s.a,null),title:"Detail"}))))})):[]}),[j]);console.log(R);var _=function(e,t){f((function(a){return Object(n.a)(Object(n.a)({},a),{},{type:e,selected:t})}))},N=function(){f((function(e){return Object(n.a)(Object(n.a)({},e),{},{type:"",selected:{}})}))};return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"layout-header-toolbar"},b.a.createElement("h1",null,"Tutorial management")),b.a.createElement(y.a,{headRows:h.b,rows:R,count:w,isFetching:O}),"delete"===x&&b.a.createElement(P,{open:"delete"===x,handleClose:N,selected:I}),"block"===x&&b.a.createElement(S,{open:"block"===x,handleClose:N,selected:I}))}}}]);
//# sourceMappingURL=13.0f6c9d82.chunk.js.map